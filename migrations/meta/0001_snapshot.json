{
  "id": "cf839e41-0384-4882-aa06-4836146a5902",
  "prevId": "ecbbd48c-34ac-4a04-83d4-a69246d0a77b",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.achievement_definitions": {
      "name": "achievement_definitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "achievement_key": {
          "name": "achievement_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "icon": {
          "name": "icon",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "criteria": {
          "name": "criteria",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "points": {
          "name": "points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 10
        },
        "tier": {
          "name": "tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'bronze'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "achievement_definitions_achievement_key_unique": {
          "name": "achievement_definitions_achievement_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "achievement_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.achievements": {
      "name": "achievements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "homeowner_id": {
          "name": "homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "achievement_type": {
          "name": "achievement_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "achievement_title": {
          "name": "achievement_title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "achievement_description": {
          "name": "achievement_description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "unlocked_at": {
          "name": "unlocked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_achievements_homeowner": {
          "name": "IDX_achievements_homeowner",
          "columns": [
            {
              "expression": "homeowner_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "UX_achievement_unique": {
          "name": "UX_achievement_unique",
          "columns": [
            {
              "expression": "homeowner_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "achievement_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.affiliate_payouts": {
      "name": "affiliate_payouts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "affiliate_referral_id": {
          "name": "affiliate_referral_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'10.00'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "stripe_transfer_id": {
          "name": "stripe_transfer_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_affiliate_payouts_agent_id": {
          "name": "IDX_affiliate_payouts_agent_id",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_affiliate_payouts_referral_id": {
          "name": "IDX_affiliate_payouts_referral_id",
          "columns": [
            {
              "expression": "affiliate_referral_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_affiliate_payouts_status": {
          "name": "IDX_affiliate_payouts_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "affiliate_payouts_affiliate_referral_id_affiliate_referrals_id_fk": {
          "name": "affiliate_payouts_affiliate_referral_id_affiliate_referrals_id_fk",
          "tableFrom": "affiliate_payouts",
          "tableTo": "affiliate_referrals",
          "columnsFrom": [
            "affiliate_referral_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "affiliate_payouts_agent_id_users_id_fk": {
          "name": "affiliate_payouts_agent_id_users_id_fk",
          "tableFrom": "affiliate_payouts",
          "tableTo": "users",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "affiliate_payouts_affiliate_referral_id_unique": {
          "name": "affiliate_payouts_affiliate_referral_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "affiliate_referral_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.affiliate_referrals": {
      "name": "affiliate_referrals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "referred_user_id": {
          "name": "referred_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "referred_user_role": {
          "name": "referred_user_role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "referral_code": {
          "name": "referral_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'trial'"
        },
        "signup_date": {
          "name": "signup_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "trial_end_date": {
          "name": "trial_end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "first_payment_date": {
          "name": "first_payment_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "consecutive_months_paid": {
          "name": "consecutive_months_paid",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_payment_date": {
          "name": "last_payment_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_affiliate_referrals_agent_id": {
          "name": "IDX_affiliate_referrals_agent_id",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_affiliate_referrals_referred_user_id": {
          "name": "IDX_affiliate_referrals_referred_user_id",
          "columns": [
            {
              "expression": "referred_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_affiliate_referrals_status": {
          "name": "IDX_affiliate_referrals_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "affiliate_referrals_agent_id_users_id_fk": {
          "name": "affiliate_referrals_agent_id_users_id_fk",
          "tableFrom": "affiliate_referrals",
          "tableTo": "users",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "affiliate_referrals_referred_user_id_users_id_fk": {
          "name": "affiliate_referrals_referred_user_id_users_id_fk",
          "tableFrom": "affiliate_referrals",
          "tableTo": "users",
          "columnsFrom": [
            "referred_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "affiliate_referrals_referred_user_id_unique": {
          "name": "affiliate_referrals_referred_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "referred_user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_profiles": {
      "name": "agent_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_connect_account_id": {
          "name": "stripe_connect_account_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_onboarding_complete": {
          "name": "stripe_onboarding_complete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "office_address": {
          "name": "office_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "license_number": {
          "name": "license_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "license_state": {
          "name": "license_state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "license_expiration": {
          "name": "license_expiration",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "verification_status": {
          "name": "verification_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'not_submitted'"
        },
        "state_id_storage_key": {
          "name": "state_id_storage_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state_id_original_filename": {
          "name": "state_id_original_filename",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state_id_mime_type": {
          "name": "state_id_mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state_id_file_size": {
          "name": "state_id_file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "state_id_uploaded_at": {
          "name": "state_id_uploaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "state_id_checksum": {
          "name": "state_id_checksum",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verification_requested_at": {
          "name": "verification_requested_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_rejected_at": {
          "name": "last_rejected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by_admin_id": {
          "name": "reviewed_by_admin_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "review_notes": {
          "name": "review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_agent_profiles_agent_id": {
          "name": "IDX_agent_profiles_agent_id",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_agent_profiles_verification_status": {
          "name": "IDX_agent_profiles_verification_status",
          "columns": [
            {
              "expression": "verification_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_profiles_agent_id_users_id_fk": {
          "name": "agent_profiles_agent_id_users_id_fk",
          "tableFrom": "agent_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_profiles_reviewed_by_admin_id_users_id_fk": {
          "name": "agent_profiles_reviewed_by_admin_id_users_id_fk",
          "tableFrom": "agent_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by_admin_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "agent_profiles_agent_id_unique": {
          "name": "agent_profiles_agent_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "agent_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_verification_audits": {
      "name": "agent_verification_audits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agent_profile_id": {
          "name": "agent_profile_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "previous_status": {
          "name": "previous_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "new_status": {
          "name": "new_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reviewed_by_admin_id": {
          "name": "reviewed_by_admin_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reviewer_email": {
          "name": "reviewer_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_agent_verification_audits_agent_id": {
          "name": "IDX_agent_verification_audits_agent_id",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_agent_verification_audits_profile_id": {
          "name": "IDX_agent_verification_audits_profile_id",
          "columns": [
            {
              "expression": "agent_profile_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_agent_verification_audits_action": {
          "name": "IDX_agent_verification_audits_action",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_agent_verification_audits_created_at": {
          "name": "IDX_agent_verification_audits_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_verification_audits_agent_profile_id_agent_profiles_id_fk": {
          "name": "agent_verification_audits_agent_profile_id_agent_profiles_id_fk",
          "tableFrom": "agent_verification_audits",
          "tableTo": "agent_profiles",
          "columnsFrom": [
            "agent_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_verification_audits_agent_id_users_id_fk": {
          "name": "agent_verification_audits_agent_id_users_id_fk",
          "tableFrom": "agent_verification_audits",
          "tableTo": "users",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_verification_audits_reviewed_by_admin_id_users_id_fk": {
          "name": "agent_verification_audits_reviewed_by_admin_id_users_id_fk",
          "tableFrom": "agent_verification_audits",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by_admin_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.climate_zones": {
      "name": "climate_zones",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "country_id": {
          "name": "country_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "climate_zones_country_id_countries_id_fk": {
          "name": "climate_zones_country_id_countries_id_fk",
          "tableFrom": "climate_zones",
          "tableTo": "countries",
          "columnsFrom": [
            "country_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.companies": {
      "name": "companies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "experience": {
          "name": "experience",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "owner_id": {
          "name": "owner_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "rating": {
          "name": "rating",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "review_count": {
          "name": "review_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "services": {
          "name": "services",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code": {
          "name": "postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "latitude": {
          "name": "latitude",
          "type": "numeric(10, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "numeric(11, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "service_radius": {
          "name": "service_radius",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 25
        },
        "has_emergency_services": {
          "name": "has_emergency_services",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "business_logo": {
          "name": "business_logo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_photos": {
          "name": "project_photos",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "facebook": {
          "name": "facebook",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "instagram": {
          "name": "instagram",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "linkedin": {
          "name": "linkedin",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "google_business_url": {
          "name": "google_business_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country_id": {
          "name": "country_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "region_id": {
          "name": "region_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "license_number": {
          "name": "license_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "license_municipality": {
          "name": "license_municipality",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_licensed": {
          "name": "is_licensed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "licenses": {
          "name": "licenses",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "insurance_info": {
          "name": "insurance_info",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "referral_code": {
          "name": "referral_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "companies_country_id_countries_id_fk": {
          "name": "companies_country_id_countries_id_fk",
          "tableFrom": "companies",
          "tableTo": "countries",
          "columnsFrom": [
            "country_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "companies_region_id_regions_id_fk": {
          "name": "companies_region_id_regions_id_fk",
          "tableFrom": "companies",
          "tableTo": "regions",
          "columnsFrom": [
            "region_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "companies_referral_code_unique": {
          "name": "companies_referral_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "referral_code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.company_invite_codes": {
      "name": "company_invite_codes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "company_id": {
          "name": "company_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "used_by": {
          "name": "used_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_company_invite_codes_company": {
          "name": "IDX_company_invite_codes_company",
          "columns": [
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_company_invite_codes_code": {
          "name": "IDX_company_invite_codes_code",
          "columns": [
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "company_invite_codes_company_id_companies_id_fk": {
          "name": "company_invite_codes_company_id_companies_id_fk",
          "tableFrom": "company_invite_codes",
          "tableTo": "companies",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "company_invite_codes_code_unique": {
          "name": "company_invite_codes_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.contractor_analytics": {
      "name": "contractor_analytics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "contractor_id": {
          "name": "contractor_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "homeowner_id": {
          "name": "homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "click_type": {
          "name": "click_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "referrer_url": {
          "name": "referrer_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "clicked_at": {
          "name": "clicked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.contractor_appointments": {
      "name": "contractor_appointments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "homeowner_id": {
          "name": "homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "house_id": {
          "name": "house_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "contractor_id": {
          "name": "contractor_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contractor_name": {
          "name": "contractor_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "contractor_company": {
          "name": "contractor_company",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contractor_phone": {
          "name": "contractor_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_type": {
          "name": "service_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "service_description": {
          "name": "service_description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "home_area": {
          "name": "home_area",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_date_time": {
          "name": "scheduled_date_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "estimated_duration": {
          "name": "estimated_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.contractor_boosts": {
      "name": "contractor_boosts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "contractor_id": {
          "name": "contractor_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "service_category": {
          "name": "service_category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "business_address": {
          "name": "business_address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "business_latitude": {
          "name": "business_latitude",
          "type": "numeric(10, 8)",
          "primaryKey": false,
          "notNull": true
        },
        "business_longitude": {
          "name": "business_longitude",
          "type": "numeric(11, 8)",
          "primaryKey": false,
          "notNull": true
        },
        "boost_radius": {
          "name": "boost_radius",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_payment_intent_id": {
          "name": "stripe_payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.contractor_licenses": {
      "name": "contractor_licenses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "contractor_id": {
          "name": "contractor_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "license_number": {
          "name": "license_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "municipality": {
          "name": "municipality",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "license_type": {
          "name": "license_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'General Contractor'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.contractor_reviews": {
      "name": "contractor_reviews",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "contractor_id": {
          "name": "contractor_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "homeowner_id": {
          "name": "homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_date": {
          "name": "service_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "service_type": {
          "name": "service_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "would_recommend": {
          "name": "would_recommend",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "device_fingerprint": {
          "name": "device_fingerprint",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "is_verified_service": {
          "name": "is_verified_service",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "UX_review_homeowner_contractor": {
          "name": "UX_review_homeowner_contractor",
          "columns": [
            {
              "expression": "homeowner_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "contractor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_review_ip_address": {
          "name": "IDX_review_ip_address",
          "columns": [
            {
              "expression": "ip_address",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_review_device_fingerprint": {
          "name": "IDX_review_device_fingerprint",
          "columns": [
            {
              "expression": "device_fingerprint",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_review_homeowner": {
          "name": "IDX_review_homeowner",
          "columns": [
            {
              "expression": "homeowner_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_review_contractor": {
          "name": "IDX_review_contractor",
          "columns": [
            {
              "expression": "contractor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "contractor_reviews_company_id_companies_id_fk": {
          "name": "contractor_reviews_company_id_companies_id_fk",
          "tableFrom": "contractor_reviews",
          "tableTo": "companies",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.contractors": {
      "name": "contractors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "company": {
          "name": "company",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "distance": {
          "name": "distance",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "rating": {
          "name": "rating",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "review_count": {
          "name": "review_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "experience": {
          "name": "experience",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "services": {
          "name": "services",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "license_number": {
          "name": "license_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "license_municipality": {
          "name": "license_municipality",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_licensed": {
          "name": "is_licensed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "service_radius": {
          "name": "service_radius",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 25
        },
        "has_emergency_services": {
          "name": "has_emergency_services",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "profile_image": {
          "name": "profile_image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "business_logo": {
          "name": "business_logo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_photos": {
          "name": "project_photos",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "insurance_carrier": {
          "name": "insurance_carrier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "insurance_policy_number": {
          "name": "insurance_policy_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "insurance_expiry_date": {
          "name": "insurance_expiry_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "insurance_coverage_amount": {
          "name": "insurance_coverage_amount",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "facebook": {
          "name": "facebook",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "instagram": {
          "name": "instagram",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "linkedin": {
          "name": "linkedin",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "google_business_url": {
          "name": "google_business_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country_id": {
          "name": "country_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "region_id": {
          "name": "region_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "licenses": {
          "name": "licenses",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "insurance_info": {
          "name": "insurance_info",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code": {
          "name": "postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "contractors_company_id_companies_id_fk": {
          "name": "contractors_company_id_companies_id_fk",
          "tableFrom": "contractors",
          "tableTo": "companies",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contractors_country_id_countries_id_fk": {
          "name": "contractors_country_id_countries_id_fk",
          "tableFrom": "contractors",
          "tableTo": "countries",
          "columnsFrom": [
            "country_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contractors_region_id_regions_id_fk": {
          "name": "contractors_region_id_regions_id_fk",
          "tableFrom": "contractors",
          "tableTo": "regions",
          "columnsFrom": [
            "region_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversations": {
      "name": "conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "homeowner_id": {
          "name": "homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "contractor_id": {
          "name": "contractor_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "last_message_at": {
          "name": "last_message_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.countries": {
      "name": "countries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "default_currency": {
          "name": "default_currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "countries_code_unique": {
          "name": "countries_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.crm_integrations": {
      "name": "crm_integrations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "contractor_user_id": {
          "name": "contractor_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "platform": {
          "name": "platform",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "platform_name": {
          "name": "platform_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "webhook_secret": {
          "name": "webhook_secret",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "api_key": {
          "name": "api_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "api_secret": {
          "name": "api_secret",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_expires_at": {
          "name": "token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_at": {
          "name": "last_sync_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sync_frequency": {
          "name": "sync_frequency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "field_mapping": {
          "name": "field_mapping",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_crm_integrations_contractor": {
          "name": "IDX_crm_integrations_contractor",
          "columns": [
            {
              "expression": "contractor_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_crm_integrations_company": {
          "name": "IDX_crm_integrations_company",
          "columns": [
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_crm_integrations_platform": {
          "name": "IDX_crm_integrations_platform",
          "columns": [
            {
              "expression": "platform",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "crm_integrations_contractor_user_id_users_id_fk": {
          "name": "crm_integrations_contractor_user_id_users_id_fk",
          "tableFrom": "crm_integrations",
          "tableTo": "users",
          "columnsFrom": [
            "contractor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "crm_integrations_company_id_companies_id_fk": {
          "name": "crm_integrations_company_id_companies_id_fk",
          "tableFrom": "crm_integrations",
          "tableTo": "companies",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.crm_leads": {
      "name": "crm_leads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "contractor_user_id": {
          "name": "contractor_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code": {
          "name": "postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'other'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'new'"
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "project_type": {
          "name": "project_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_value": {
          "name": "estimated_value",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "follow_up_date": {
          "name": "follow_up_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_contacted_at": {
          "name": "last_contacted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "won_at": {
          "name": "won_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "lost_at": {
          "name": "lost_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "lost_reason": {
          "name": "lost_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_crm_leads_contractor": {
          "name": "IDX_crm_leads_contractor",
          "columns": [
            {
              "expression": "contractor_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_crm_leads_company": {
          "name": "IDX_crm_leads_company",
          "columns": [
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_crm_leads_status": {
          "name": "IDX_crm_leads_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_crm_leads_priority": {
          "name": "IDX_crm_leads_priority",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_crm_leads_follow_up_date": {
          "name": "IDX_crm_leads_follow_up_date",
          "columns": [
            {
              "expression": "follow_up_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_crm_leads_created_at": {
          "name": "IDX_crm_leads_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "crm_leads_contractor_user_id_users_id_fk": {
          "name": "crm_leads_contractor_user_id_users_id_fk",
          "tableFrom": "crm_leads",
          "tableTo": "users",
          "columnsFrom": [
            "contractor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "crm_leads_company_id_companies_id_fk": {
          "name": "crm_leads_company_id_companies_id_fk",
          "tableFrom": "crm_leads",
          "tableTo": "companies",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.crm_notes": {
      "name": "crm_notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "lead_id": {
          "name": "lead_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "note_type": {
          "name": "note_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'general'"
        },
        "is_pinned": {
          "name": "is_pinned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_crm_notes_lead_id": {
          "name": "IDX_crm_notes_lead_id",
          "columns": [
            {
              "expression": "lead_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_crm_notes_user_id": {
          "name": "IDX_crm_notes_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_crm_notes_created_at": {
          "name": "IDX_crm_notes_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "crm_notes_lead_id_crm_leads_id_fk": {
          "name": "crm_notes_lead_id_crm_leads_id_fk",
          "tableFrom": "crm_notes",
          "tableTo": "crm_leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "crm_notes_user_id_users_id_fk": {
          "name": "crm_notes_user_id_users_id_fk",
          "tableFrom": "crm_notes",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.custom_maintenance_tasks": {
      "name": "custom_maintenance_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "homeowner_id": {
          "name": "homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "house_id": {
          "name": "house_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "estimated_time": {
          "name": "estimated_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "difficulty": {
          "name": "difficulty",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'easy'"
        },
        "tools": {
          "name": "tools",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "cost": {
          "name": "cost",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pro_low": {
          "name": "pro_low",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "pro_high": {
          "name": "pro_high",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "materials_low": {
          "name": "materials_low",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "materials_high": {
          "name": "materials_high",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "frequency_type": {
          "name": "frequency_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "frequency_value": {
          "name": "frequency_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "specific_months": {
          "name": "specific_months",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.error_breadcrumbs": {
      "name": "error_breadcrumbs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "error_log_id": {
          "name": "error_log_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "IDX_error_breadcrumbs_error_log_id": {
          "name": "IDX_error_breadcrumbs_error_log_id",
          "columns": [
            {
              "expression": "error_log_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_error_breadcrumbs_timestamp": {
          "name": "IDX_error_breadcrumbs_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "error_breadcrumbs_error_log_id_error_logs_id_fk": {
          "name": "error_breadcrumbs_error_log_id_error_logs_id_fk",
          "tableFrom": "error_breadcrumbs",
          "tableTo": "error_logs",
          "columnsFrom": [
            "error_log_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.error_logs": {
      "name": "error_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "error_type": {
          "name": "error_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "error_stack": {
          "name": "error_stack",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_email": {
          "name": "user_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_role": {
          "name": "user_role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'error'"
        },
        "resolved": {
          "name": "resolved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_error_logs_type": {
          "name": "IDX_error_logs_type",
          "columns": [
            {
              "expression": "error_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_error_logs_severity": {
          "name": "IDX_error_logs_severity",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_error_logs_resolved": {
          "name": "IDX_error_logs_resolved",
          "columns": [
            {
              "expression": "resolved",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_error_logs_user_id": {
          "name": "IDX_error_logs_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_error_logs_created_at": {
          "name": "IDX_error_logs_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "error_logs_user_id_users_id_fk": {
          "name": "error_logs_user_id_users_id_fk",
          "tableFrom": "error_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "error_logs_resolved_by_users_id_fk": {
          "name": "error_logs_resolved_by_users_id_fk",
          "tableFrom": "error_logs",
          "tableTo": "users",
          "columnsFrom": [
            "resolved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.home_appliance_manuals": {
      "name": "home_appliance_manuals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "appliance_id": {
          "name": "appliance_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'owner'"
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "home_appliance_manuals_appliance_id_home_appliances_id_fk": {
          "name": "home_appliance_manuals_appliance_id_home_appliances_id_fk",
          "tableFrom": "home_appliance_manuals",
          "tableTo": "home_appliances",
          "columnsFrom": [
            "appliance_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.home_appliances": {
      "name": "home_appliances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "homeowner_id": {
          "name": "homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "house_id": {
          "name": "house_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "make": {
          "name": "make",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "serial_number": {
          "name": "serial_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "purchase_date": {
          "name": "purchase_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "install_date": {
          "name": "install_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "year_installed": {
          "name": "year_installed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "warranty_expiration": {
          "name": "warranty_expiration",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_service_date": {
          "name": "last_service_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.home_systems": {
      "name": "home_systems",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "homeowner_id": {
          "name": "homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "house_id": {
          "name": "house_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "system_type": {
          "name": "system_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "installation_year": {
          "name": "installation_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_service_year": {
          "name": "last_service_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "brand": {
          "name": "brand",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.homeowner_connection_codes": {
      "name": "homeowner_connection_codes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "homeowner_id": {
          "name": "homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "house_id": {
          "name": "house_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "usage_limit": {
          "name": "usage_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "homeowner_connection_codes_code_unique": {
          "name": "homeowner_connection_codes_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.house_transfers": {
      "name": "house_transfers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "house_id": {
          "name": "house_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "from_homeowner_id": {
          "name": "from_homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "to_homeowner_email": {
          "name": "to_homeowner_email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "to_homeowner_id": {
          "name": "to_homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "transfer_note": {
          "name": "transfer_note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "maintenance_logs_transferred": {
          "name": "maintenance_logs_transferred",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "appliances_transferred": {
          "name": "appliances_transferred",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "appointments_transferred": {
          "name": "appointments_transferred",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "custom_tasks_transferred": {
          "name": "custom_tasks_transferred",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "home_systems_transferred": {
          "name": "home_systems_transferred",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "service_records_transferred": {
          "name": "service_records_transferred",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_house_transfers_pending": {
          "name": "idx_house_transfers_pending",
          "columns": [
            {
              "expression": "house_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"house_transfers\".\"status\" = $1",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "house_transfers_token_unique": {
          "name": "house_transfers_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.houses": {
      "name": "houses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "homeowner_id": {
          "name": "homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "climate_zone": {
          "name": "climate_zone",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "home_systems": {
          "name": "home_systems",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "country_id": {
          "name": "country_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "region_id": {
          "name": "region_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "climate_zone_id": {
          "name": "climate_zone_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code": {
          "name": "postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "latitude": {
          "name": "latitude",
          "type": "numeric(10, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "numeric(11, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "home_type": {
          "name": "home_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "square_footage": {
          "name": "square_footage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "year_built": {
          "name": "year_built",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "roof_installed_year": {
          "name": "roof_installed_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "roof_type": {
          "name": "roof_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hvac_installed_year": {
          "name": "hvac_installed_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hvac_type": {
          "name": "hvac_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "plumbing_type": {
          "name": "plumbing_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "foundation_type": {
          "name": "foundation_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "water_heater_installed_year": {
          "name": "water_heater_installed_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "water_heater_type": {
          "name": "water_heater_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "garage_type": {
          "name": "garage_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "number_of_stories": {
          "name": "number_of_stories",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "primary_heating_fuel": {
          "name": "primary_heating_fuel",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "houses_country_id_countries_id_fk": {
          "name": "houses_country_id_countries_id_fk",
          "tableFrom": "houses",
          "tableTo": "countries",
          "columnsFrom": [
            "country_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "houses_region_id_regions_id_fk": {
          "name": "houses_region_id_regions_id_fk",
          "tableFrom": "houses",
          "tableTo": "regions",
          "columnsFrom": [
            "region_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "houses_climate_zone_id_climate_zones_id_fk": {
          "name": "houses_climate_zone_id_climate_zones_id_fk",
          "tableFrom": "houses",
          "tableTo": "climate_zones",
          "columnsFrom": [
            "climate_zone_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.invite_codes": {
      "name": "invite_codes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "used_by": {
          "name": "used_by",
          "type": "varchar[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::varchar[]"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "max_uses": {
          "name": "max_uses",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "current_uses": {
          "name": "current_uses",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_invite_codes_code": {
          "name": "IDX_invite_codes_code",
          "columns": [
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_invite_codes_is_active": {
          "name": "IDX_invite_codes_is_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "invite_codes_created_by_users_id_fk": {
          "name": "invite_codes_created_by_users_id_fk",
          "tableFrom": "invite_codes",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "invite_codes_code_unique": {
          "name": "invite_codes_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.maintenance_logs": {
      "name": "maintenance_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "homeowner_id": {
          "name": "homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "house_id": {
          "name": "house_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "service_date": {
          "name": "service_date",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "service_type": {
          "name": "service_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "home_area": {
          "name": "home_area",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_description": {
          "name": "service_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cost": {
          "name": "cost",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "contractor_name": {
          "name": "contractor_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contractor_company": {
          "name": "contractor_company",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contractor_id": {
          "name": "contractor_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "warranty_period": {
          "name": "warranty_period",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "next_service_due": {
          "name": "next_service_due",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "receipt_urls": {
          "name": "receipt_urls",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::text[]"
        },
        "before_photo_urls": {
          "name": "before_photo_urls",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::text[]"
        },
        "after_photo_urls": {
          "name": "after_photo_urls",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::text[]"
        },
        "completion_method": {
          "name": "completion_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "diy_savings_amount": {
          "name": "diy_savings_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_maintenance_logs_completion_method": {
          "name": "IDX_maintenance_logs_completion_method",
          "columns": [
            {
              "expression": "completion_method",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.maintenance_tasks": {
      "name": "maintenance_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "month": {
          "name": "month",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "climate_zones": {
          "name": "climate_zones",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "estimated_time": {
          "name": "estimated_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "difficulty": {
          "name": "difficulty",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tools": {
          "name": "tools",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "cost": {
          "name": "cost",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sender_id": {
          "name": "sender_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sender_type": {
          "name": "sender_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attachments": {
          "name": "attachments",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::text[]"
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_preferences": {
      "name": "notification_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "notification_type": {
          "name": "notification_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "channels": {
          "name": "channels",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{push}'::text[]"
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "UX_notification_preferences_user_type": {
          "name": "UX_notification_preferences_user_type",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "notification_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_notification_preferences_user": {
          "name": "IDX_notification_preferences_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "homeowner_id": {
          "name": "homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "house_id": {
          "name": "house_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "appointment_id": {
          "name": "appointment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "maintenance_task_id": {
          "name": "maintenance_task_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_for": {
          "name": "scheduled_for",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sent_at": {
          "name": "sent_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "action_url": {
          "name": "action_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.password_reset_tokens": {
      "name": "password_reset_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "used": {
          "name": "used",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_password_reset_tokens_email": {
          "name": "IDX_password_reset_tokens_email",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_password_reset_tokens_token": {
          "name": "IDX_password_reset_tokens_token",
          "columns": [
            {
              "expression": "token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "password_reset_tokens_token_unique": {
          "name": "password_reset_tokens_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.products": {
      "name": "products",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "price": {
          "name": "price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rating": {
          "name": "rating",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "review_count": {
          "name": "review_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_featured": {
          "name": "is_featured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "in_stock": {
          "name": "in_stock",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.proposals": {
      "name": "proposals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "contractor_id": {
          "name": "contractor_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "homeowner_id": {
          "name": "homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "service_type": {
          "name": "service_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "estimated_cost": {
          "name": "estimated_cost",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "estimated_duration": {
          "name": "estimated_duration",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "materials": {
          "name": "materials",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::text[]"
        },
        "warranty_period": {
          "name": "warranty_period",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "valid_until": {
          "name": "valid_until",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "customer_notes": {
          "name": "customer_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "internal_notes": {
          "name": "internal_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attachments": {
          "name": "attachments",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::text[]"
        },
        "contract_file_path": {
          "name": "contract_file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contract_signed_at": {
          "name": "contract_signed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "customer_signature": {
          "name": "customer_signature",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contractor_signature": {
          "name": "contractor_signature",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "signature_ip_address": {
          "name": "signature_ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "proposals_company_id_companies_id_fk": {
          "name": "proposals_company_id_companies_id_fk",
          "tableFrom": "proposals",
          "tableTo": "companies",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.push_subscriptions": {
      "name": "push_subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'web-push'"
        },
        "endpoint": {
          "name": "endpoint",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "p256dh_key": {
          "name": "p256dh_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "auth_key": {
          "name": "auth_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "device_info": {
          "name": "device_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.referral_credits": {
      "name": "referral_credits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "referrer_user_id": {
          "name": "referrer_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "referred_user_id": {
          "name": "referred_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "credit_amount": {
          "name": "credit_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.00'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'earned'"
        },
        "earned_at": {
          "name": "earned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "applied_at": {
          "name": "applied_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "applied_to_invoice_id": {
          "name": "applied_to_invoice_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "applied_amount": {
          "name": "applied_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "billing_period_start": {
          "name": "billing_period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "billing_period_end": {
          "name": "billing_period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'referral'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "UX_referral_pair": {
          "name": "UX_referral_pair",
          "columns": [
            {
              "expression": "referrer_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "referred_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_referral_referrer_status_applied_at": {
          "name": "IDX_referral_referrer_status_applied_at",
          "columns": [
            {
              "expression": "referrer_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "applied_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_referral_referred": {
          "name": "IDX_referral_referred",
          "columns": [
            {
              "expression": "referred_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "referral_credits_referrer_user_id_users_id_fk": {
          "name": "referral_credits_referrer_user_id_users_id_fk",
          "tableFrom": "referral_credits",
          "tableTo": "users",
          "columnsFrom": [
            "referrer_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "referral_credits_referred_user_id_users_id_fk": {
          "name": "referral_credits_referred_user_id_users_id_fk",
          "tableFrom": "referral_credits",
          "tableTo": "users",
          "columnsFrom": [
            "referred_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "CHK_not_self": {
          "name": "CHK_not_self",
          "value": "referrer_user_id <> referred_user_id"
        }
      },
      "isRLSEnabled": false
    },
    "public.regional_maintenance_tasks": {
      "name": "regional_maintenance_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "country_id": {
          "name": "country_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "climate_zone_id": {
          "name": "climate_zone_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "task_id": {
          "name": "task_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "estimated_time": {
          "name": "estimated_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "difficulty": {
          "name": "difficulty",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tools": {
          "name": "tools",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "cost": {
          "name": "cost",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "season": {
          "name": "season",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "months": {
          "name": "months",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "system_requirements": {
          "name": "system_requirements",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "regional_maintenance_tasks_country_id_countries_id_fk": {
          "name": "regional_maintenance_tasks_country_id_countries_id_fk",
          "tableFrom": "regional_maintenance_tasks",
          "tableTo": "countries",
          "columnsFrom": [
            "country_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "regional_maintenance_tasks_climate_zone_id_climate_zones_id_fk": {
          "name": "regional_maintenance_tasks_climate_zone_id_climate_zones_id_fk",
          "tableFrom": "regional_maintenance_tasks",
          "tableTo": "climate_zones",
          "columnsFrom": [
            "climate_zone_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.regions": {
      "name": "regions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "country_id": {
          "name": "country_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "regions_country_id_countries_id_fk": {
          "name": "regions_country_id_countries_id_fk",
          "tableFrom": "regions",
          "tableTo": "countries",
          "columnsFrom": [
            "country_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.regulatory_bodies": {
      "name": "regulatory_bodies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "region_id": {
          "name": "region_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "country_id": {
          "name": "country_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "regulatory_bodies_region_id_regions_id_fk": {
          "name": "regulatory_bodies_region_id_regions_id_fk",
          "tableFrom": "regulatory_bodies",
          "tableTo": "regions",
          "columnsFrom": [
            "region_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "regulatory_bodies_country_id_countries_id_fk": {
          "name": "regulatory_bodies_country_id_countries_id_fk",
          "tableFrom": "regulatory_bodies",
          "tableTo": "countries",
          "columnsFrom": [
            "country_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.review_flags": {
      "name": "review_flags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "review_id": {
          "name": "review_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "reported_by": {
          "name": "reported_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "resolution": {
          "name": "resolution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "IDX_review_flags_review": {
          "name": "IDX_review_flags_review",
          "columns": [
            {
              "expression": "review_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_review_flags_status": {
          "name": "IDX_review_flags_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_review_flags_reported_by": {
          "name": "IDX_review_flags_reported_by",
          "columns": [
            {
              "expression": "reported_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "review_flags_review_id_contractor_reviews_id_fk": {
          "name": "review_flags_review_id_contractor_reviews_id_fk",
          "tableFrom": "review_flags",
          "tableTo": "contractor_reviews",
          "columnsFrom": [
            "review_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.search_analytics": {
      "name": "search_analytics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "search_term": {
          "name": "search_term",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "service_type": {
          "name": "service_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_zip_code": {
          "name": "user_zip_code",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "search_context": {
          "name": "search_context",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_search_analytics_user_id": {
          "name": "IDX_search_analytics_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_search_analytics_zip_code": {
          "name": "IDX_search_analytics_zip_code",
          "columns": [
            {
              "expression": "user_zip_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_search_analytics_created_at": {
          "name": "IDX_search_analytics_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "search_analytics_user_id_users_id_fk": {
          "name": "search_analytics_user_id_users_id_fk",
          "tableFrom": "search_analytics",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.service_records": {
      "name": "service_records",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "contractor_id": {
          "name": "contractor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "employee_id": {
          "name": "employee_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "homeowner_id": {
          "name": "homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "house_id": {
          "name": "house_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_name": {
          "name": "customer_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "customer_address": {
          "name": "customer_address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "customer_phone": {
          "name": "customer_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_email": {
          "name": "customer_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_type": {
          "name": "service_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "service_description": {
          "name": "service_description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "home_area": {
          "name": "home_area",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_date": {
          "name": "service_date",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "duration": {
          "name": "duration",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cost": {
          "name": "cost",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'completed'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "materials_used": {
          "name": "materials_used",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::text[]"
        },
        "warranty_period": {
          "name": "warranty_period",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "follow_up_date": {
          "name": "follow_up_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_visible_to_homeowner": {
          "name": "is_visible_to_homeowner",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "service_records_company_id_companies_id_fk": {
          "name": "service_records_company_id_companies_id_fk",
          "tableFrom": "service_records",
          "tableTo": "companies",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "sid": {
          "name": "sid",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "sess": {
          "name": "sess",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "expire": {
          "name": "expire",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "IDX_session_expire": {
          "name": "IDX_session_expire",
          "columns": [
            {
              "expression": "expire",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscription_cycle_events": {
      "name": "subscription_cycle_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_invoice_id": {
          "name": "stripe_invoice_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "period_start": {
          "name": "period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0.00'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_subscription_cycle_events_user_id": {
          "name": "IDX_subscription_cycle_events_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_subscription_cycle_events_subscription_id": {
          "name": "IDX_subscription_cycle_events_subscription_id",
          "columns": [
            {
              "expression": "stripe_subscription_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_subscription_cycle_events_status": {
          "name": "IDX_subscription_cycle_events_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_subscription_cycle_events_user_period": {
          "name": "IDX_subscription_cycle_events_user_period",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "subscription_cycle_events_user_id_users_id_fk": {
          "name": "subscription_cycle_events_user_id_users_id_fk",
          "tableFrom": "subscription_cycle_events",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "subscription_cycle_events_stripe_invoice_id_unique": {
          "name": "subscription_cycle_events_stripe_invoice_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "stripe_invoice_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscription_plans": {
      "name": "subscription_plans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tier_name": {
          "name": "tier_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "monthly_price": {
          "name": "monthly_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "min_houses": {
          "name": "min_houses",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_houses": {
          "name": "max_houses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "plan_type": {
          "name": "plan_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'homeowner'"
        },
        "stripe_product_id": {
          "name": "stripe_product_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_price_id": {
          "name": "stripe_price_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "features": {
          "name": "features",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "subscription_plans_tier_name_unique": {
          "name": "subscription_plans_tier_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tier_name"
          ]
        },
        "subscription_plans_stripe_product_id_unique": {
          "name": "subscription_plans_stripe_product_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "stripe_product_id"
          ]
        },
        "subscription_plans_stripe_price_id_unique": {
          "name": "subscription_plans_stripe_price_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "stripe_price_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.support_tickets": {
      "name": "support_tickets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_to_admin_id": {
          "name": "assigned_to_admin_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_to_admin_email": {
          "name": "assigned_to_admin_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "IDX_support_tickets_user_id": {
          "name": "IDX_support_tickets_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_support_tickets_status": {
          "name": "IDX_support_tickets_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_support_tickets_category": {
          "name": "IDX_support_tickets_category",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_support_tickets_assigned_to": {
          "name": "IDX_support_tickets_assigned_to",
          "columns": [
            {
              "expression": "assigned_to_admin_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_support_tickets_created_at": {
          "name": "IDX_support_tickets_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "support_tickets_user_id_users_id_fk": {
          "name": "support_tickets_user_id_users_id_fk",
          "tableFrom": "support_tickets",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "support_tickets_assigned_to_admin_id_users_id_fk": {
          "name": "support_tickets_assigned_to_admin_id_users_id_fk",
          "tableFrom": "support_tickets",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_to_admin_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.task_completions": {
      "name": "task_completions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "homeowner_id": {
          "name": "homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "house_id": {
          "name": "house_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "task_id": {
          "name": "task_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "task_type": {
          "name": "task_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "task_title": {
          "name": "task_title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "task_category": {
          "name": "task_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "month": {
          "name": "month",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "year": {
          "name": "year",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "completion_method": {
          "name": "completion_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'professional'"
        },
        "estimated_cost": {
          "name": "estimated_cost",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "actual_cost": {
          "name": "actual_cost",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "cost_savings": {
          "name": "cost_savings",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "documents_uploaded": {
          "name": "documents_uploaded",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_task_completions_homeowner": {
          "name": "IDX_task_completions_homeowner",
          "columns": [
            {
              "expression": "homeowner_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_task_completions_date": {
          "name": "IDX_task_completions_date",
          "columns": [
            {
              "expression": "year",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "month",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.task_overrides": {
      "name": "task_overrides",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "homeowner_id": {
          "name": "homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "house_id": {
          "name": "house_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "task_id": {
          "name": "task_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "frequency_type": {
          "name": "frequency_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "frequency_value": {
          "name": "frequency_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "specific_months": {
          "name": "specific_months",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "custom_description": {
          "name": "custom_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_task_overrides_unique": {
          "name": "idx_task_overrides_unique",
          "columns": [
            {
              "expression": "homeowner_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "house_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "task_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ticket_replies": {
      "name": "ticket_replies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_internal": {
          "name": "is_internal",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_automated": {
          "name": "is_automated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_ticket_replies_ticket_id": {
          "name": "IDX_ticket_replies_ticket_id",
          "columns": [
            {
              "expression": "ticket_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_ticket_replies_user_id": {
          "name": "IDX_ticket_replies_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_ticket_replies_created_at": {
          "name": "IDX_ticket_replies_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ticket_replies_ticket_id_support_tickets_id_fk": {
          "name": "ticket_replies_ticket_id_support_tickets_id_fk",
          "tableFrom": "ticket_replies",
          "tableTo": "support_tickets",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ticket_replies_user_id_users_id_fk": {
          "name": "ticket_replies_user_id_users_id_fk",
          "tableFrom": "ticket_replies",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_achievements": {
      "name": "user_achievements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "homeowner_id": {
          "name": "homeowner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "achievement_key": {
          "name": "achievement_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "progress": {
          "name": "progress",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "is_unlocked": {
          "name": "is_unlocked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "unlocked_at": {
          "name": "unlocked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_user_achievements_homeowner": {
          "name": "IDX_user_achievements_homeowner",
          "columns": [
            {
              "expression": "homeowner_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "UX_user_achievement_unique": {
          "name": "UX_user_achievement_unique",
          "columns": [
            {
              "expression": "homeowner_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "achievement_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_activity": {
      "name": "user_activity",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "activity_type": {
          "name": "activity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_user_activity_created_at": {
          "name": "IDX_user_activity_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_user_activity_user_id": {
          "name": "IDX_user_activity_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_user_activity_user_date": {
          "name": "IDX_user_activity_user_date",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "profile_image_url": {
          "name": "profile_image_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'homeowner'"
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "zip_code": {
          "name": "zip_code",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "referral_code": {
          "name": "referral_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "referred_by": {
          "name": "referred_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "referral_count": {
          "name": "referral_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "connection_code": {
          "name": "connection_code",
          "type": "varchar(8)",
          "primaryKey": false,
          "notNull": false
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "email_verified_at": {
          "name": "email_verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "email_verification_token": {
          "name": "email_verification_token",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "email_verification_token_expiry": {
          "name": "email_verification_token_expiry",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "company_role": {
          "name": "company_role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "can_respond_to_proposals": {
          "name": "can_respond_to_proposals",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "subscription_plan_id": {
          "name": "subscription_plan_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_status": {
          "name": "subscription_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'inactive'"
        },
        "max_houses_allowed": {
          "name": "max_houses_allowed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_premium": {
          "name": "is_premium",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "trial_ends_at": {
          "name": "trial_ends_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_price_id": {
          "name": "stripe_price_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_start_date": {
          "name": "subscription_start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_end_date": {
          "name": "subscription_end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "account_status": {
          "name": "account_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "account_cancelled_at": {
          "name": "account_cancelled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_users_subscription_plan_id": {
          "name": "IDX_users_subscription_plan_id",
          "columns": [
            {
              "expression": "subscription_plan_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_users_zip_code": {
          "name": "IDX_users_zip_code",
          "columns": [
            {
              "expression": "zip_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_users_company_id": {
          "name": "IDX_users_company_id",
          "columns": [
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_users_email_verification_token": {
          "name": "IDX_users_email_verification_token",
          "columns": [
            {
              "expression": "email_verification_token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "users_company_id_companies_id_fk": {
          "name": "users_company_id_companies_id_fk",
          "tableFrom": "users",
          "tableTo": "companies",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "users_subscription_plan_id_subscription_plans_id_fk": {
          "name": "users_subscription_plan_id_subscription_plans_id_fk",
          "tableFrom": "users",
          "tableTo": "subscription_plans",
          "columnsFrom": [
            "subscription_plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        },
        "users_referral_code_unique": {
          "name": "users_referral_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "referral_code"
          ]
        },
        "users_connection_code_unique": {
          "name": "users_connection_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "connection_code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.webhook_logs": {
      "name": "webhook_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "integration_id": {
          "name": "integration_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "headers": {
          "name": "headers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_id": {
          "name": "lead_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "IDX_webhook_logs_integration": {
          "name": "IDX_webhook_logs_integration",
          "columns": [
            {
              "expression": "integration_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_webhook_logs_status": {
          "name": "IDX_webhook_logs_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "IDX_webhook_logs_created_at": {
          "name": "IDX_webhook_logs_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "webhook_logs_integration_id_crm_integrations_id_fk": {
          "name": "webhook_logs_integration_id_crm_integrations_id_fk",
          "tableFrom": "webhook_logs",
          "tableTo": "crm_integrations",
          "columnsFrom": [
            "integration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "webhook_logs_lead_id_crm_leads_id_fk": {
          "name": "webhook_logs_lead_id_crm_leads_id_fk",
          "tableFrom": "webhook_logs",
          "tableTo": "crm_leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}